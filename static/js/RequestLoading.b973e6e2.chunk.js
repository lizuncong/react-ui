(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{300:function(t,e,n){"use strict";n(184),n(159),n(226),n(84),n(161),n(85),n(100),n(334),n(160),n(335);var a=n(348),r=n.n(a),o=n(336),i=n.n(o),s=n(345),u=n.n(s),c=(n(347),n(163),function(t){var e=document.getElementById(t);if(e){"none"===window.getComputedStyle(e).getPropertyValue("transform")&&e.classList.add("requestLoadingOverlay");var n=document.createElement("div");n.addEventListener("click",(function(t){t.stopPropagation()})),n.id="".concat(t,"-overlay"),n.classList.add("domOverlay");var a=document.createElement("img");a.src="https://media.number-7.cn/ebike-h5/static/images/common/loading.gif",a.classList.add("loadingImg"),n.appendChild(a),e.appendChild(n)}}),l=function(t){var e=document.getElementById(t);if(e){var n=window.getComputedStyle(e),a=n.transitionDelay,r=n.transitionDuration,o=parseFloat(a)+parseFloat(r);e.classList.add("unsetTransition"),e.classList.remove("requestLoadingOverlay");var i=document.getElementById("".concat(t,"-overlay"));i&&(e.removeChild(i),setTimeout((function(){e.classList.remove("unsetTransition")}),1e3*o))}};function d(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var f=i.a.CancelToken,p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.urlCancelMap={},this.urlLoadingMap={}}var e,n,a;return e=t,(n=[{key:"request",value:function(t,e,n,a,o){for(var s=this,u=arguments.length,d=new Array(u>5?u-5:0),p=5;p<u;p++)d[p-5]=arguments[p];var m=Object.assign.apply(Object,[{method:t,url:e,baseURL:"/api"}].concat(d));"get"===t?m.params=n:"post"===t&&(m.data=n);var g="".concat(t,"/").concat(e);return a&&(this.urlCancelMap[g]&&this.urlCancelMap[g](),m.cancelToken=new f((function(t){s.urlCancelMap[g]=t}))),o&&(this.urlLoadingMap[o]||c(o),this.urlLoadingMap[o]=(this.urlLoadingMap[o]||0)+1),new Promise((function(t){i()(m).then((function(e){e&&200===e.status?t(e.data):r.a.open({message:"\u8fd4\u56de\u7684\u72b6\u6001\u7801\u4e0d\u662f200"})})).catch((function(t){t.response?r.a.open({message:"\u8bf7\u6c42\u5f02\u5e38-response-".concat(t.response.status)}):t.request?r.a.open({message:"\u8bf7\u6c42\u5f02\u5e38-request-".concat(JSON.stringify(t.request))}):r.a.open({message:"\u8bf7\u6c42\u5f02\u5e38-".concat(JSON.stringify(t.message))})}))})).finally((function(){s.urlCancelMap[g]&&(s.urlCancelMap[g]=null),s.urlLoadingMap[o]&&(s.urlLoadingMap[o]=s.urlLoadingMap[o]-1,s.urlLoadingMap[o]||l(o))}))}},{key:"get",value:function(t){return this.request("get",t.url,t.data,t.useLast,t.loadingDOM)}},{key:"post",value:function(t){return this.request("post",t.url,t.data,t.useLast,t.loadingDOM)}},{key:"postForm",value:function(t){var e=t.data||{};return this.request("post",t.url,u.a.stringify(e),t.useLast,t.loadingDOM,{headers:{"content-type":"application/x-www-form-urlencoded"}})}},{key:"upload",value:function(t){var e=t.data||{},n=new FormData;return Object.keys(e).forEach((function(t){var a=e[t];a instanceof Array?a.forEach((function(e){n.append(t,e)})):n.append(t,e[t])})),this.request("post",t.url,n,t.useLast,t.loadingDOM,{headers:{"content-type":"multipart/form-data"}})}}])&&d(e.prototype,n),a&&d(e,a),t}();e.a=new p},683:function(t,e,n){t.exports={container:"_1SOMHCsmWgAQnySbUHEh5A",wrap:"_3OHyIaPc39cekGVPOCfSOY",searchForm:"_157YTyTumn6MlpX3d5zf7P",testTransform:"_3F9PImxGeeg2jywG5fYkh2",list:"_3Rrug0GpuEzR_SMPtWtB-p",test:"KxO6cH7gS0IMIQ9ouBLpt",list1:"_2zz6uHg0pTrnMok9DeOeVu",item:"_2ig5XY9XPJSvEovjqxt7EE",warn:"_1afD8YINrwFCZa9tOy05O-"}},692:function(t,e,n){"use strict";n.r(e);n(83),n(88),n(89),n(54),n(147),n(90),n(92),n(84),n(95),n(93),n(85),n(100),n(94),n(91),n(86),n(87),n(219);var a=n(224),r=n.n(a),o=(n(205),n(0)),i=n.n(o),s=n(300),u=n(683),c=n.n(u);function l(t){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e,n,a,r,o,i){try{var s=t[o](i),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(a,r)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function i(t){d(o,a,r,i,s,"next",t)}function s(t){d(o,a,r,i,s,"throw",t)}i(void 0)}))}}function p(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(u,t);var e,n,a,o=g(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=o.call(this,t)).count=0,e.state={list:[],list2:[]},e}return e=u,(n=[{key:"render",value:function(){var t=this,e=this.state,n=e.list,a=e.list2;return i.a.createElement("div",{className:c.a.container},i.a.createElement("div",{className:"demo-title"},"\u8bf7\u6c42loading\u6548\u679c"),i.a.createElement("div",null,"\u5728\u5e73\u65f6\u5f00\u53d1\u4e2d\uff0c\u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u7ecf\u5e38\u9700\u8981\u7ed9\u6309\u94ae\u6216\u8005\u6570\u636e\u663e\u793a\u7684\u5730\u65b9\u52a0loading\uff0c\u5927\u591a\u6570\u7684\u505a\u6cd5\u90fd\u662f\u901a\u8fc7\u7ef4\u62a4\u4e00\u4e2aloading\u72b6\u6001\uff0c\u8bf7\u6c42\u5f00\u59cb\u65f6\uff0c \u901a\u8fc7this.setState\u5c06loading\u8bbe\u7f6e\u4e3atrue\uff0c\u5728\u8bf7\u6c42\u7ed3\u679c\u8fd4\u56de\u540e\u518d\u901a\u8fc7this.setState\u5c06\u7ed3\u679c\u8bbe\u7f6e\u4e3afalse\u3002\u540c\u65f6\u8fd8\u9700\u8981\u5199\u4e2aloading\u7684\u83ca\u82b1\u3002 \u8fd9\u4e00\u7cfb\u5217\u8fc7\u7a0b\uff0c\u4e0d\u662f\u96be\uff0c\u800c\u662f\u7e41\u7410\uff0c\u56e0\u6b64\u53ef\u4e0d\u53ef\u4ee5\u7b80\u5316\u4e00\u4e0b\u8fd9\u4e2a\u6d41\u7a0b\uff0c\u901a\u8fc7\u914d\u7f6e\u7684\u65b9\u5f0f\uff0c\u5728\u8bf7\u6c42\u5f00\u59cb\u65f6\uff0c\u81ea\u52a8\u7ed9\u9700\u8981loading\u7684dom\u52a0loading\u6548\u679c\uff0c \u8bf7\u6c42\u7ed3\u675f\u540e\u518d\u79fb\u9664\u6389loading\u6548\u679c\u3002",i.a.createElement("div",null,"\u89e3\u51b3\u65b9\u6cd5\uff1a",i.a.createElement("div",null,"\u5148\u7ed9\u9700\u8981loading\u7684dom\u5143\u7d20\u8bbe\u7f6e\u4e00\u4e2a\u552f\u4e00\u7684id\uff0c\u5728\u53d1\u9001\u8bf7\u6c42\u65f6\uff0c\u5c06\u8fd9\u4e2aid\u4f20\u7ed9\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5728\u8bf7\u6c42\u65b9\u6cd5\u91cc\u9762\u6267\u884c\u8fd9\u4e9b\u903b\u8f91\u3002 \u5982\u679c\u662f\u540c\u65f6\u53d1\u8d77\u4e86\u591a\u6b21\u8bf7\u6c42\uff0c\u5219\u7b49\u6700\u540e\u4e00\u6b21\u8bf7\u6c42\u7ed3\u679c\u8fd4\u56de\u518d\u5173\u95edloading\u3002\u8fd9\u91cc\u5173\u952e\u662f\u600e\u4e48\u628aloading\u52a0\u4e0a\u53bb\uff0c\u4e00\u5f00\u59cb\u7684\u60f3\u6cd5\u662f \u7ed9dom\u8bbe\u7f6eposition:relative\u6837\u5f0f\uff0c\u7136\u540e\u8ffd\u52a0\u4e00\u4e2aposition: absolute\u5b9a\u4f4d\u7684\u5143\u7d20\u4f5c\u4e3a\u8be5dom\u7684\u5b50\u5143\u7d20\uff0c\u4f46\u8fd9\u6837\u5c31\u6539\u53d8\u4e86dom \u7684position\u5c5e\u6027\uff0c\u5bb9\u6613\u5f15\u53d1\u5947\u602a\u7684\u95ee\u9898\u3002\u56e0\u6b64\u8fd9\u91cc\u7684\u505a\u6cd5\u662f\u7ed9dom\u589e\u52a0transform\u6837\u5f0f\uff0c\u7136\u540e\u8ffd\u52a0\u4e00\u4e2aposition:fixed\u5b9a\u4f4d\u7684\u5143\u7d20\u4f5c\u4e3a \u5b50\u5143\u7d20\uff0cfixed\u5b9a\u4f4d\u5c31\u76f8\u5bf9\u4e8e\u8be5dom\u5143\u7d20\u4e86\u3002\u8fd8\u9700\u8981\u8003\u8651dom\u5143\u7d20\u672c\u8eab\u662f\u5426\u5df2\u7ecf\u6709transform\u5c5e\u6027\u4e86\uff0c\u4ee5\u53cadom\u662f\u5426\u8bbe\u7f6e\u4e86overflow:hidden\u3002 \u5982\u679cdom\u6ca1\u6709\u8bbe\u7f6eoverflow:hidden\uff0c\u90a3\u4e48loading\u7684\u906e\u7f69\u5c31\u4f1a\u8d85\u51fadom\u7684\u8303\u56f4\u3002\u540c\u65f6\u8fd8\u8981\u8003\u8651dom\u539f\u672c\u7684transition\u5c5e\u6027"))),i.a.createElement("div",null,i.a.createElement(r.a,{id:"btn",type:"primary",onClick:f(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get({url:"/list",loadingDOM:"btn"});case 2:(n=e.sent)&&t.setState({list:n.data});case 4:case"end":return e.stop()}}),e)})))},"\u67e5\u8be2\u5217\u8868\u6570\u636e\uff0c\u7ed9\u6309\u94ae\u52a0loading")),i.a.createElement("div",{id:"list1",className:c.a.list1},n.map((function(t){return i.a.createElement("div",{key:t.title},t.title)}))),i.a.createElement("div",null,i.a.createElement(r.a,{onClick:f(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get({url:"/list",loadingDOM:"list"});case 2:(n=e.sent)&&t.setState({list2:n.data});case 4:case"end":return e.stop()}}),e)})))},"\u67e5\u8be2\u5217\u8868\u6570\u636e\uff0c\u7ed9\u5217\u8868\u663e\u793a\u533a\u57df\u52a0loading")),i.a.createElement("div",{id:"list",className:c.a.list},a.map((function(t){return i.a.createElement("div",{key:t.title},t.title)}))))}}])&&p(e.prototype,n),a&&p(e,a),u}(i.a.PureComponent);e.default=h}}]);
//# sourceMappingURL=RequestLoading.b973e6e2.chunk.js.map